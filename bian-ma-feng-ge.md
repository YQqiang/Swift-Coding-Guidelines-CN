# ç¼–ç é£æ ¼

## ä¸€èˆ¬è§„åˆ™

### 1. é›†åˆè½¬æ¢

ä»ä¸€ä¸ªé›†åˆè½¬æ¢åˆ°å¦ä¸€ä¸ªé›†åˆæ—¶ï¼Œå°½é‡ä½¿ç”¨mapã€filterã€reduceå’Œå…¶ä»–ä¸€äº›ç±»ä¼¼å‡½æ•°å¼ç¼–ç¨‹æ“ä½œç¬¦ç»„åˆï¼Œé¿å…ä½¿ç”¨è¿­ä»£çš„æ–¹å¼ã€‚

{% hint style="info" %}
åœ¨ä½¿ç”¨è¿™äº›æ–¹æ³•æ—¶é¿å…ä½¿ç”¨æœ‰å‰¯ä½œç”¨çš„é—­åŒ…ã€‚
{% endhint %}

```swift
// æ¨èä½¿ç”¨
let stringOfInts = [1, 2, 3].flatMap { String($0) }

// ğŸ™…â€â™‚ï¸ä¸æ¨è
var stringOfInts: [String] = []
for integer in [1, 2, 3] {
    stringOfInts.append(String(integer))
}
```

```swift
// æ¨èä½¿ç”¨
let evenNumbers = [4, 8, 15, 16, 23, 42].filter { $0 % 2 == 0 }

// ğŸ™…â€â™‚ï¸ä¸æ¨è
var evenNumbers: [Int] = []
for integer in [4, 8, 15, 16, 23, 42] {
    if integer % 2 == 0 {
        evenNumbers.append(integer)
    }
}
```

### 2. ä»£ç†å¼±å¼•ç”¨

åœ¨`delegate`å’Œ`protocol`ä¸­ï¼Œç¡®ä¿ç”Ÿå‘½å‘¨æœŸï¼Œå±æ€§ä½¿ç”¨`weak`ã€‚

### 3. é—­åŒ…å¼±å¼•ç”¨

åœ¨é—­åŒ…ä¸­é¿å…å¾ªç¯å¼•ç”¨

```swift
myFunction() { [weak self] (error) -> Void in
    // ä½¿ç”¨å¯é€‰å€¼
    self?.doSomething()

    // æˆ–è€…ä½¿ç”¨ 'guard let' è§£åŒ…
    guard let strongSelf = self else {
        return
    }

    strongSelf.doSomething()
}
```

### 4. ç±»å‹æ¨æ–­

ä¸è¦ä½¿ç”¨ç±»æ–¹æ³•çš„ç®€å†™ï¼Œå› ä¸ºä»ç±»æ–¹æ³•æ¯”æšä¸¾æ¨æ–­ä¸Šä¸‹æ–‡é€šå¸¸æ›´å›°éš¾ã€‚

### 5. æ–¹æ³•é‡å†™

åœ¨ç¼–å†™æ–¹æ³•æ—¶ï¼Œéœ€è¦è€ƒè™‘æ˜¯å¦éœ€è¦é‡å†™ï¼Œå¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨`final`æ˜¾ç¤ºçš„æ ‡è®°ï¼Œè¿™æ ·å¯ä»¥æé«˜ç¼–è¯‘æ—¶é—´ã€‚

### 6. ç±»æ–¹æ³•å’Œç±»å±æ€§

åœ¨å£°æ˜ä¸ç±»å…³è”çš„å‡½æ•°æˆ–å±æ€§æ—¶ï¼Œé¦–é€‰æ˜¯`static` è€Œä¸æ˜¯`class`ã€‚

å½“æˆ‘ä»¬éœ€è¦åœ¨å­ç±»ä¸­é‡å†™è¯¥å‡½æ•°æˆ–æ–¹æ³•æ—¶æ‰ä½¿ç”¨`class`ã€‚

{% hint style="info" %}
å¯ä»¥è€ƒè™‘ä½¿ç”¨`Protocol`å®ç°è¿™ä¸€ç‚¹ã€‚
{% endhint %}

### 7. è®¡ç®—å±æ€§

å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œä»…ä»…æ˜¯è¿”å›ä¸€äº›å¯¹è±¡æˆ–å€¼ï¼Œæœ€å¥½ä½¿ç”¨è®¡ç®—å±æ€§ã€‚

```swift
// æ¨èä½¿ç”¨
public var fullName: String {
    return "\(self.name) \(self.surname)"
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
function fullName() -> String {
    return "\(self.name) \(self.surname)"
} 
```

## å˜é‡

### 1. `let` å’Œ`var` 

å°½é‡ä½¿ç”¨`let`å£°æ˜å˜é‡ï¼Œåªæœ‰å½“å˜é‡ç¡®å®éœ€è¦æ”¹å˜æ—¶ï¼Œæ‰éœ€è¦å£°æ˜ä¸º`var`ã€‚

### 2. å±æ€§å€¼

å¦‚æœå±æ€§çš„å€¼ç›´åˆ°è¢«åˆ›å»ºæ—¶æ‰çŸ¥é“ï¼Œé‚£ä¹ˆä»ç„¶å¯ä»¥ä½¿ç”¨`let`ï¼šåœ¨åˆå§‹åŒ–æœŸé—´åˆ†é…å¸¸é‡å±æ€§ã€‚

### 3. ç±»å‹æ¨å¯¼

å¦‚æœå¸¸é‡æˆ–å˜é‡èƒ½å¤Ÿè‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œ æœ€å¥½ä¸è¦æ˜¾ç¤ºçš„å£°æ˜ç±»å‹ã€‚

### 4. å…·æœ‰æè¿°æ€§

å£°æ˜å˜é‡æ—¶ï¼Œåº”è¯¥å…·æœ‰æè¿°æ€§ï¼Œä¸éœ€è¦å¤ªè¯¦ç»†ã€‚

```swift
// Dictionary æ˜¯å¤šä½™çš„
var someDictionary: Dictionary = [String: String]()
// CGPoint é‡å¤
var somePoint: CGPoint = CGPoint(x:100, y: 200)
// b ä¸å…·æœ‰æè¿°æ€§
var b = Bool(false)
```

### 5. é¿å…é‡å¤

é¿å…é‡å¤ç±»å‹ä¿¡æ¯ï¼Œä¸€æ¬¡å°±å¤Ÿäº†ã€‚

## å¸¸é‡

### 1. ç§æœ‰å¸¸é‡

åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä¸ä¹‹ç›¸å…³çš„æ–‡ä»¶ä¿æŒå¸¸é‡æ˜¯ç§æœ‰çš„ã€‚

### 2. å®šä¹‰å¸¸é‡

ä¸ºä»£ç ä¸­ä¸å˜çš„æ•°æ®å®šä¹‰å¸¸é‡ã€‚

ä¾‹å¦‚ï¼šå•å…ƒæ ¼å¤ç”¨æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œ`key`åç§°ï¼ˆKVC æˆ–è€… å­—å…¸ï¼‰ï¼Œ`segue`æ ‡è¯†ç¬¦ã€‚

### 3. é™æ€å¸¸é‡

å¦‚æœå¸¸é‡æ˜¯åœ¨ç±»æˆ–è€…ç»“æ„ä½“ä¸­å£°æ˜çš„ï¼Œåˆ™å¿…é¡»å°†å…¶å£°æ˜ä¸º`static`ï¼Œä»¥é¿å…ä¸ºæ¯ä¸ªå®ä¾‹å£°æ˜ä¸€ä¸ªå¸¸é‡ã€‚

### 4. ä¸å¿…ä½¿ç”¨`K`å‰ç¼€

`Swift`ä¸­å¸¸é‡ä¸å¿…ä½¿ç”¨`K`ä½œä¸ºå‰ç¼€ã€‚

### 5. æ–‡ä»¶çº§å¸¸é‡

æ–‡ä»¶çº§å¸¸é‡å¿…é¡»ä½¿ç”¨`fileprivate let`å£°æ˜ã€‚

## å…ƒç»„

### 1. å‡½æ•°è¿”å›å€¼

å¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨å‘½åå…ƒç»„ã€‚

å¦‚æœè¿”å›ç±»å‹å¾ˆæ˜æ˜¾ï¼Œå¯ä»¥çœç•¥å‘½åã€‚

å¦‚æœä¸€ä¸ªå…ƒç»„ä¸­æœ‰3ä¸ªæˆ–3ä¸ªä»¥ä¸Šçš„é¡¹ï¼Œéœ€ä½¿ç”¨ç±»æˆ–ç»“æ„ä½“æ›¿æ¢ã€‚

### 2. é‡å®šä¹‰

å¦‚æœä¸æ­¢ä¸€æ¬¡çš„ä½¿ç”¨æŸä¸ªå…ƒç»„ï¼Œéœ€è¦ä½¿ç”¨`typealias`å®šä¹‰ã€‚

å¦‚`public typealias Address = (name: String, number: Int)`

## è®¿é—®ä¿®é¥°ç¬¦

### 1. é¡ºåº

è®¿é—®ä¿®é¥°ç¬¦å¿…é¡»æ”¾åœ¨å£°æ˜å±æ€§ä¹‹å‰ã€‚

```swift
// æ¨èä½¿ç”¨
private static let myPrivateVar: Int

// ğŸ™…â€â™‚ï¸ä¸æ¨è
static private let myPrivateVar: Int
```

### 2. åŒä¸€è¡Œå†…å£°æ˜

è®¿é—®ä¿®é¥°ç¬¦å…³é”®å­—åº”è¯¥å’Œå…¶ä»–ä»£ç æ”¾åœ¨ä¸€è¡Œã€‚

```swift
// æ¨èä½¿ç”¨
open class MyClass {
    /* ... */
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
open
class MyClass {
    /* ... */
}
```

### 3. é»˜è®¤ä¿®é¥°ç¬¦

é»˜è®¤ä¿®é¥°ç¬¦ä¸º`internal`ï¼Œæ— éœ€æ˜¾ç¤ºçš„å£°æ˜ã€‚

### 4. å•å…ƒæµ‹è¯•

å½“æ‚¨éœ€è¦ä¸ºå•å…ƒæµ‹è¯•è®¾ç½®ä¸€ä¸ªå˜é‡ä¸º`open`æ—¶ï¼Œå°†å…¶æ ‡è®°ä¸ºå†…éƒ¨ä½¿ç”¨`@testable import Module`ã€‚

å¦‚æœå±æ€§åº”è¯¥æ˜¯ç§æœ‰çš„ï¼Œä½†æ˜¯ä¸ºäº†å•å…ƒæµ‹è¯•çš„ç›®çš„è€Œå°†å…¶å£°æ˜ä¸ºå†…éƒ¨å±æ€§ï¼Œéœ€è¦æ·»åŠ é€‚å½“çš„æ–‡æ¡£æ³¨é‡Šã€‚

```swift
/**
 This property defines the pirate's name.
 - warning: Not `private` for `@testable`.
 */
let myVar = "A Value"
```

### 5. ç§æœ‰

å°½é‡ä½¿ç”¨`private` è€Œä¸æ˜¯`fileprivate`ã€‚

### 6. å…¬å¼€

å¦‚æœåœ¨æ¨¡å—å¤–éƒ¨å¯ä»¥è®¾ç½®å­ç±»åŒ–çš„å†…å®¹ï¼Œå°½é‡ä½¿ç”¨`open`è€Œä¸æ˜¯`public`ã€‚

## è‡ªå®šä¹‰æ“ä½œç¬¦

### 1. é¿å…è‡ªå®šä¹‰è¿ç®—ç¬¦

åº”è¯¥é¿å…åˆ›å»ºè‡ªå®šä¹‰è¿ç®—ç¬¦ï¼Œé˜²æ­¢é™ä½ä»£ç çš„å¯è¯»æ€§ã€‚å¦‚æœéœ€è¦åˆ›å»ºè‡ªå®šä¹‰è¿ç®—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨å‘½åå‡½æ•°æ›¿æ¢ã€‚

### 2. é‡å†™ç°æœ‰æ“ä½œç¬¦

 å¯ä»¥è¦†ç›–ç°æœ‰çš„æ“ä½œç¬¦æ¥æ”¯æŒæ–°çš„ç±»å‹ã€‚å¦‚ä½¿ç”¨`==`æ¯”è¾ƒæ—¶ã€‚

### 3. æ›´å¤šå‚è€ƒ

æ›´å¤šå‚è€ƒå†…å®¹[NSHipster article](http://nshipster.com/swift-operators/#guidelines-for-swift-operators).

## Switch å’Œ Enums

### 1. break

Switchè¯­å¥ä¸­ä¸å­˜åœ¨éšå¼è´¯ç©¿ï¼Œå› æ­¤ä¸éœ€è¦åœ¨ case åˆ†æ”¯ä¸­æ˜¾å¼åœ°ä½¿ç”¨ `break` è¯­å¥ã€‚

### 2. default

å½“ä½¿ç”¨å…·æœ‰æœ‰é™å¯èƒ½çš„`Switch`è¯­å¥æ—¶ï¼Œä¸è¦ä½¿ç”¨`default case`ä¸ºæœªä½¿ç”¨çš„`case`åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç”¨ä¾‹ã€‚

### 3. å¯¹é½

`case`å’Œ`switch`å·¦ä¾§å¯¹é½

### 4. å…³è”å€¼

å½“ä¸ºæšä¸¾å®šä¹‰å…³è”å€¼æ—¶ï¼Œä¸€å®šè¦æ˜¾å¼åœ°æè¿°å®ƒã€‚

```swift
// æ¨èä½¿ç”¨
case animated(duration: TimeInterval

// ğŸ™…â€â™‚ï¸ä¸æ¨è
case animated(TimeInterval)
```

### 5. list case

ä¼˜å…ˆä½¿ç”¨`list case` ï¼ˆå¦‚`case 1, 2, 3:`ï¼‰ã€‚

### 6. æŠ›å‡ºé”™è¯¯

å½“æœ‰caseæœªæ‰§è¡Œåˆ°ï¼Œéœ€è¦æŠŠé”™è¯¯ä¿¡æ¯æŠ›åˆ°ä¸Šå±‚è€Œä¸æ˜¯é»˜è®¤å¤±è´¥ã€‚

```swift
func doSomethingWithNumber(_ digit: Int) throws {
    switch digit {
    case 0, 1, 2, 3, 4, 5:
        /* ... */
    default:
        throw Error(message: "Cannot handle this value")
    }
}
```

### 7. é¿å…å†™å‡ºæšä¸¾ç±»å‹

å½“ç¼–è¯‘å™¨èƒ½å¤Ÿè‡ªåŠ¨æ¨å¯¼å‡ºæšä¸¾ç±»å‹æ—¶ï¼Œåˆ™ä¸éœ€è¦å†™å‡ºæšä¸¾ç±»å‹ã€‚

```swift
// æ¨è
.enumValue

// ğŸ™…â€â™‚ï¸ä¸æ¨è
MyEnum.enumValue
```

## å¯é€‰å€¼

### 1. é¿å…å¼ºåˆ¶è§£åŒ…

é¿å…ä½¿ç”¨`!`,`as!`,`try!`å¼ºåˆ¶è§£åŒ…ï¼Œå½“å¼ºåˆ¶è§£åŒ…ç©ºå†…å®¹æ—¶ä¼šå¼•å‘å´©æºƒã€‚

### 2. å¯é€‰ç±»å‹

å½“å˜é‡ï¼Œå‡½æ•°è¿”å›å€¼å¯ä»¥ä¸º`nil`æ—¶ï¼Œéœ€è¦å£°æ˜ä¸ºå¯é€‰ç±»å‹ï¼ˆ`?`ï¼‰ã€‚

### 3. æ˜¾ç¤ºæ¯”è¾ƒ

å½“éœ€è¦åˆ¤æ–­å€¼æ˜¯å¦ä¸º`nil`åˆä¸éœ€è¦è§£åŒ…å‡ºæ¥çš„å€¼ï¼Œåˆ™å¯ä»¥è¿›è¡Œæ˜¾ç¤ºæ¯”è¾ƒã€‚

```swift
// æ¨èä½¿ç”¨
if someOptional != nil {
    /* ... */
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
if let _ = someOptional {
    /* ... */
}
```

### 4. é¿å…ä½¿ç”¨**`unowned`**

é¿å…ä½¿ç”¨éšå¼è§£åŒ…

```swift
// æ¨èä½¿ç”¨
weak var myViewController: UIViewController?

// ä¸æ¨èä½¿ç”¨
weak var myViewController: UIViewController!
unowned var myViewController: UIViewController
```

### 5. ä½¿ç”¨ç›¸åŒåç§°è§£åŒ…

å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å˜é‡åç§°è§£åŒ…

```swift
guard let aValue = aValue else {
    /* ... */
}
```

### 6. å¤šä¸ªå¯é€‰ç»‘å®š

åœ¨åŒä¸€ä¸ª`if`è¯­å¥ä¸­å¯ä»¥ä½¿ç”¨å¤šä¸ªå¯é€‰ç»‘å®šï¼Œé¿å…å¤šé‡`if`åµŒå¥—ã€‚

é”™è¯¯ä½¿ç”¨âŒ

```swift
if let id = json[Constants.id] as? Int {
    if let firstName = json[Constants.firstName] as? String {
        if let lastName = json[Constants.lastName] as? String {
            if let initials = json[Constants.initials] as? String {
                /* ... */
            }
        }
    }
}
```

æ­£ç¡®ä½¿ç”¨âœ…

```swift
if
    let id = json[Constants.Id] as? Int,
    let firstName = json[Constants.firstName] as? String,
    let lastName = json[Constants.lastName] as? String,
    let initials = json[Constants.initials] as? String {
        /* ... */
}
```

### 7. å¤šä¸ªå¯é€‰ç»‘å®šçš„æ ¼å¼

å½“ä½¿ç”¨`if`æˆ–`guard`å¯¹å¤šä¸ªå¯é€‰å€¼è¿›è¡Œè§£åŒ…æ—¶ï¼Œå°†æ¯ä¸ªå¸¸é‡æˆ–å˜é‡æ”¾åœ¨ä¸€è¡Œï¼Œåé¢è·Ÿç€ä¸€ä¸ªé€—å·`,`ï¼Œæœ€åä¸€è¡Œé™¤å¤–ã€‚

å½“æ˜¯`guard`è¯­å¥æ—¶ï¼Œæœ€åä¸€è¡Œæ˜¯å˜é‡åé¢è·Ÿç€ `else {`,

å½“æ˜¯`if`è¯­å¥æ—¶ï¼Œæœ€åä¸€è¡Œæ˜¯å˜é‡åé¢è·Ÿç€`{`ã€‚

```swift
if
    let constantOne = valueOne,
    let constantTwo = valueTwo,
    let constantThree = valueThree {
        // Code
}
```

## åè®®

### 1. ç»„ç»‡ä»£ç 

1. ä½¿ç”¨`// MARK:`å°†åè®®ä¸å…¶ä»–ä»£ç åˆ†å¼€ã€‚
2. åœ¨`class`æˆ–`struct`çš„å®ç°ä¹‹å¤–åˆ›å»º`extension`ï¼Œä½†åœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…ã€‚

{% hint style="info" %}
\#2 å­ç±»ä¸èƒ½è¦†ç›–æ‰©å±•é‡Œçš„æ–¹æ³•ã€‚
{% endhint %}

### 2. @objc

å¦‚æœåè®®å…·æœ‰å¯é€‰æ–¹æ³•ï¼Œåˆ™å¿…é¡»ä½¿ç”¨`@objc` å…³é”®å­—å£°æ˜å®ƒã€‚

### 3. å¤šä¸ªç±»ä½¿ç”¨åŒä¸€åè®®

å¤šä¸ªç±»ä½¿ç”¨åŒä¸€åè®®ï¼Œè¯·åœ¨è‡ªå·±çš„æ–‡ä»¶å†…å£°æ˜ã€‚

### 4. ä»…æ”¯æŒclassçš„åè®®

è‹¥ä»…æ”¯æŒç±»ç±»å‹çš„åè®®ï¼Œéœ€è¦å¢åŠ `class`å…³é”®å­—ã€‚

## å±æ€§

### 1. åªè¯»è®¡ç®—å±æ€§

åˆ›å»ºåªè¯»è®¡ç®—å±æ€§ï¼Œä¸éœ€è¦å¢åŠ `get {}` ã€‚

```swift
// æ¨èä½¿ç”¨
var diameter: Double {
    return radius * 2
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
var diameter: Double {
    get {
        return radius * 2
    }
}
```

### 2. ä»£ç ç¼©è¿›

`get {}`, `set {}`, `willSet` , `didSet` å¿…é¡»ä½¿ç”¨ä»£ç ç¼©è¿›ã€‚

### 3. newValueï¼ŒoldValue

åœ¨`set`ã€`get`æ–¹æ³•ä¸­ä½¿ç”¨æ ‡å‡†çš„`newValue`ï¼Œ`oldValue`ã€‚

### 4. å•ä¾‹çš„å®ç°

å¿…é¡»ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼

```swift
class NetworkManager {
    private init() {}
    static let shared = NetworkManager()
    /* ... */
}
```

### 5. æ‡’åŠ è½½

ä½¿ç”¨`lazy`å…³é”®å­—ï¼Œå®ç°æ‡’åŠ è½½ï¼Œå»¶è¿Ÿå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œæ§åˆ¶å£°æ˜å‘¨æœŸï¼Œåœ¨ç‰¹æ®Šæƒ…å†µä¸‹æ ¹æ®éœ€è¦å‡å°‘å†…å­˜åˆ†é…ã€‚

## ä¸‰ç›®è¿ç®—ç¬¦

ä¸ºäº†å¢åŠ æ¸…æ™°åº¦å’Œä»£ç æ•´æ´åº¦ï¼Œå¯é€‚å½“ä½¿ç”¨ä¸‰æœ¨è¿ç®—ç¬¦`? :` ã€‚

ä¸‰å…ƒè¿ç®—ç¬¦çš„æœ€ä½³ç”¨é€”æ˜¯åœ¨èµ‹å€¼å˜é‡å’Œå†³å®šä½¿ç”¨å“ªä¸ªå€¼ã€‚

```swift
// æ¨èä½¿ç”¨
var value = 5
result = value != 0 ? x : y

// ğŸ™…â€â™‚ï¸ä¸æ¨è
result = a > b ? x = c > d ? c : d : y
```

## é—­åŒ…

### 1. çœç•¥ç±»å‹

åœ¨é—­åŒ…å†…å£°æ˜å‚æ•°ï¼Œå¦‚æœèƒ½å¤Ÿè‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œä¹Ÿå¯ä»¥çœç•¥ç±»å‹ã€‚

```swift
// çœç•¥ç±»å‹
doSomethingWithClosure() { response in
    print(response)
}

// æ˜¾ç¤ºå£°æ˜ç±»å‹
doSomethingWithClosure() { response: NSURLResponse in
    print(response)
}
```

### 2. è¡Œæ•°

å¦‚æœä¸è¶…è¿‡ä¸€è¡Œå­—ç¬¦çš„é™åˆ¶ï¼Œåˆ™åº”è¯¥ä¿æŒå·¦æ‹¬å·å’Œå‚æ•°åœ¨åŒä¸€è¡Œã€‚

### 3. ç®€å†™å‚æ•°

ä»…å¯¹ç®€å•çš„å•è¡Œé—­åŒ…å®ç°ä½¿ç”¨ç®€å†™å‚æ•°è¯­æ³•ã€‚

```swift
// [4, 6, 8]
let doubled = [2, 3, 4].map { $0 * 2 } 
```

å¯¹äºå¤æ‚çš„æƒ…å†µï¼Œæ˜ç¡®å®šä¹‰å‚æ•°ã€‚

```swift
let names = ["George Washington", "Martha Washington", "Abe Lincoln"]
let emails = names.map { fullname in
    let dottedName = fullname.replacingOccurrences(of: " ", with: ".")
    return dottedName.lowercased() + "@whitehouse.gov"
}
```

### 4. å°¾éšé—­åŒ…

ä»…å½“å‚æ•°åˆ—è¡¨æœ«å°¾æœ‰å•ä¸ªé—­åŒ…è¡¨è¾¾å¼å‚æ•°æ—¶ï¼Œæ‰ä½¿ç”¨å°¾éšé—­åŒ…è¯­æ³•ã€‚ ç»™å‡ºé—­åŒ…å‚æ•°æè¿°æ€§åç§°ã€‚

```swift
// æ¨èä½¿ç”¨
UIView.animate(withDuration: 1.0 {
    /* ... */
}
UIView.animate(withDuration: 1.0, animations: {
    /* ... */
}, completion: { finished in
    /* ... */
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
UIView.animate(withDuration: 1.0, animations: {
    /* ... */
}, { finished in
    /* ... */
}
```

## ä»£ç†

### 1. å§”æ‰˜æº

åˆ›å»ºè‡ªå®šä¹‰ä»£ç†æ–¹æ³•æ—¶ï¼Œæœªå‘½åçš„ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯å§”æ‰˜æºã€‚

```swift
// æ¨èä½¿ç”¨
func customPickerView(_ pickerView: CustomPickerView, numberOfRows: Int)

// ğŸ™…â€â™‚ï¸ä¸æ¨è
func customPickerView(pickerView: CustomPickerView, numberOfRows: Int)
```

## æ•°ç»„

### 1. é¿å…ä¸‹æ ‡è®¿é—®

é¿å…ä½¿ç”¨ä¸‹æ ‡ç›´æ¥è®¿é—®æ•°ç»„ï¼Œä½†å¯ä»¥ä½¿ç”¨`.first`æˆ–`.last`ç­‰è®¿é—®å™¨ï¼Œä»¥ç¡®ä¿é¡¹ç›®ä¸å¯ç”¨æ—¶çš„å®‰å…¨æ€§ã€‚ å¦‚æœæ²¡æœ‰è®¿é—®å™¨ï¼Œè¯·åŠ¡å¿…å…ˆè¿›è¡Œæ­£ç¡®çš„ç»‘å®šæ£€æŸ¥ã€‚

### 2. è¿­ä»£

ä½¿ç”¨`for item in items` è¯­æ³•ï¼Œç¦æ­¢ä½¿ç”¨`for i in 0 ..< items.count` ã€‚

### 3. è¿æ¥æ•°ç»„

ä½¿ç”¨`.append()`æˆ–`.append(contentsOf:)`æ–¹æ³•ä»£æ›¿+-æ“ä½œç¬¦å»è¿æ¥æ•°ç»„ï¼Œå› ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå®ƒä»¬æ€§èƒ½æ›´é«˜ã€‚

## `guard` çš„ä½¿ç”¨

### 1. å°½æ—©é€€å‡º

å°½æ—©é€€å‡ºæ˜¯å¯¹å‡½æ•°è¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥çš„é¦–é€‰æ–¹æ³•ã€‚ä¹Ÿæ˜¯é¿å…åµŒå¥—`if`è¯­å¥çš„é¦–é€‰æ–¹æ³•ã€‚ä½¿ç”¨`guard`å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚

```swift
// æ¨èä½¿ç”¨
func doSomethingWithItem(at index: Int) {
    guard index >= 0 && index < item.count else {
        // å› ä¸ºæ•°ç»„è¶Šç•Œæå‰é€€å‡º
        return
    }
    let item = item[index]
    doSomethingWithObject(item)
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
func doSomethingWithItem(at index: Int) {
    if index >= 0 && index < item.count {
        let item = item[index]
        doSomethingWithObject(item)
    }
}
```

### 2. å®Œæ•´æ€§æ£€æŸ¥

å…ä½¿ç”¨åµŒå¥—çš„`if`è¯­å¥å¹¶å‡å°‘ä»£ç ä¸­åµŒå¥—ç¼©è¿›çš„æ•°é‡ï¼šä½¿ç”¨`guard`è¯­å¥è€Œä¸æ˜¯`if`è¯­å¥è¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥ã€‚

```swift
// æ¨èä½¿ç”¨
guard let anObject = anObject else {
    return
}
doSomething(with: anObject)
doAnotherStuff(with: anObject)

// ğŸ™…â€â™‚ï¸ä¸æ¨è
if let anObject = anObject {
    doSomething(with: anObject)
    doAnotherStuff(with: anObject)
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
if anObject == nil {
    return
}
doSomething(with: anObject!)
doAnotherStuff(with: anObject!)
```

### 3. é¿å…å•è¡Œ`guard`è¯­å¥

é¿å…åœ¨ä¸€è¡Œä¸Šä½¿ç”¨`guard`è¯­å¥ã€‚

```swift
// æ¨è
guard let aValue = aValue else {
    return
}

// ä¸æ¨è
guard let aValue = aValue else { return }
```

### 4. ä½¿ç”¨èŒƒå›´

åªæœ‰åœ¨å¤±è´¥å¯¼è‡´é€€å‡ºå½“å‰ä¸Šä¸‹æ–‡æ—¶æ‰åº”ä½¿ç”¨`guard`; å¦‚æœä¸Šä¸‹æ–‡éœ€è¦ç»§ç»­åˆ™åº”è¯¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª`if`è¯­å¥ã€‚ `guard`çš„ç›®æ ‡æ˜¯è¿›è¡Œæ—©æœŸæ£€æŸ¥å’Œè¿”å›ã€‚

### 5. çŠ¶æ€é€‰æ‹©

å¦‚æœåœ¨ä¸¤ä¸ªä¸åŒçš„çŠ¶æ€ä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼Œåˆ™ä½¿ç”¨`if`è¯­å¥è€Œä¸æ˜¯ä½¿ç”¨`guard`è¯­å¥æ›´æœ‰æ„ä¹‰ã€‚

```swift
// æ¨èä½¿ç”¨
if aCondition {
    /* code A */
} else {
    /* code B */
}

// ğŸ™…â€â™‚ï¸ä¸æ¨è
guard aCondition else {
    /* code B */
    return
}
/* code A */
```















